# UX-A-02 Handoff (2026-02-15)

Purpose: Resume Ari UX progression exactly where this session ended.

## Current Slice

- Active slice: `UX-A-02` (Stage A project context import + code workspace handoff)
- Status: `in_progress`
- Loop method: `U1-U8` in `docs/process/ux-progression-workflow-template.md`

## What Is Implemented

1. Stage A project context UI in Workflow Mode:
- `Project Context` selector (`Starter Template` vs `Import from GitHub`)
- `Repository URL` + `Branch (optional)` inputs
- `Import Repository` action
- Status states: `queued -> indexing -> ready | error`
- Gated `Continue to Canvas`
- Gated `Open Code Workspace`

2. Workspace target strategy:
- Default target: in-app `Code Explorer`
- Feature flag path to `code-server`

3. Spec + progression docs updated for this slice.

## Key Files

### UI
- `components/aei/main-workspace.tsx`

### UX Contract
- `docs/on-boarding/ui-workflow-mode-spec.md`
- `docs/on-boarding/ari-user-experience-ground-truth.md`
- `docs/on-boarding/README.md`

### Process + Tracking
- `docs/process/ux-progression-workflow-template.md`
- `docs/tasks/ux-progression-log.md`
- `docs/tasks/ux-progression-runs/2026-02-15-ux-a-repository-context-import.md`

## code-server Feature Flag

Set these to enable code-server launch from Stage A:

- `NEXT_PUBLIC_USE_CODE_SERVER=true`
- `NEXT_PUBLIC_CODE_SERVER_URL=http://localhost:8080`

If unset, `Open Code Workspace` falls back to `Code Explorer`.

## Validation State

- Type check passed: `npx tsc --noEmit`
- Manual Stage A walkthrough: pending
- Repo metadata propagation to execution/trace: pending

## Immediate Next Tasks

1. Run manual Stage A checklist (U6)
- Use checklist in `docs/on-boarding/ui-workflow-mode-spec.md` section `8.3`
- Record evidence/screenshots in run file:
  - `docs/tasks/ux-progression-runs/2026-02-15-ux-a-repository-context-import.md`

2. Wire repo metadata into execution/trace
- Add `source_repo: { url, branch, commit }` in workflow execution metadata
- Surface repo badge in trace header/view context

3. Close U7/U8 for UX-A-02
- Update evidence links
- Set decision: `promote | iterate | defer`
- Update `docs/tasks/ux-progression-log.md`

## New Chat Starter Prompt

Use this in a new chat to resume exactly:

```text
Resume UX slice UX-A-02 from docs/tasks/ux-a02-handoff-2026-02-15.md.

Goals for this session:
1) Execute and document the manual U6 walkthrough for Stage A project context import.
2) Implement repo metadata propagation into execution/trace as source_repo {url, branch, commit}.
3) Update run log and set U8 decision with evidence.

Use these source files first:
- docs/tasks/ux-a02-handoff-2026-02-15.md
- docs/tasks/ux-progression-runs/2026-02-15-ux-a-repository-context-import.md
- docs/on-boarding/ui-workflow-mode-spec.md
- components/aei/main-workspace.tsx
```
